
\chapter{JConHT -- A SHOIQSHOIQ Reasoner}
\label{cha:jconht}

In the last chapter we showed an automatic mapping from role-based models into contextualized
description logic ontologies.

A reasoner capable of contextualized DL ontologies


In this chapter we only consider \LMLO ontologies instead of \LMLO-BKBs.

We want to check consistency of \O.

\section{A Blackbox Approach}
\label{sec:blackbox-approach}

In section \ref{sec:complexity-consis-problem} we showed that we can reduce the consistency problem
of \LMLO to two separate decision problems. 




In the proof of Lemma~\ref{lem:shoqshoq-without-rigid-exptime} we construct the largest possible set
\Xmc that is admissible and argue that any \Bmfb that is outer consistent w.r.t. some admissible
$\Xmc'$ is also outer consistent w.r.t~\Xmc. But \Xmc can be exponentially large and, thus, we do
not want to construct it if not necessary. Alternatively, we can also use the following lemma which
is a direct consequence of Lemma~\ref{lem:admissible-and-outerConsistent}.

\begin{lemma}
  \label{lem:consistant-and-admissible-types}
  The \LMLO-BKB \Bmf is consistent iff there is an \Msig-interpretation \HH such that $\Hmc \models
  \Bmfb$ and $\Zmc = \{ \mathsf{type}_{\ran(b)}(d) \mid d \in \Delta^{\Hmc}\}$ is admissible.
\end{lemma}

\begin{proof}
  Let us assume that \Bmf is consistent.
  By Lemma~\ref{lem:admissible-and-outerConsistent} we know, if \Bmf is consistent than there exists
  an admissible set \Xmc such that \Bmfb is outer consistent w.r.t~\Xmc. By the definition of outer
  consistency there exists an \Msig-interpretation \Hmc that models of \Bmfb and weakly respects
  $(\ran(\bsf), \Xmc)$.  Hence, we have that $\Zmc \subseteq \Xmc$. Since every subset of an
  admissible set is also admissible, \Zmc is also admissible.

  For the if-direction we assume that $\Hmc \models \Bmfb$ and that \Zmc is admissible.
  If $\Hmc \models \Bmfb$, then \Bmfb is outer consistent w.r.t~\Zmc. Since \Zmc is admissible, we
  know, due to Lemma~\ref{lem:admissible-and-outerConsistent}, that \Bmf is consistent.
\end{proof}


use classical DL reasoner to test for consistency of \Bmfb.

If consistent, list all models up to different set of occurring types. Even if there are infinite
many models, there are only finitely many different set of types.

For each model use DL reasoner that checks admissibility of \Zmc.

\section{Using Hypertableau}
\label{sec:using-hypertableau}




\section{Implementing JConHT}
\label{sec:implementing-jconht}

JConHT is an OWL compliant reasoner for contextualized description logics that is written in Java
and uses HermiT as internal reasoner.


\section{Syntax}
\label{sec:syntax}

\todo[inline]{http://disi.unitn.it/~bouquet/papers/ISWC2003-COWL.pdf}

as widely used for DL reasoner we also use the web ontology language (OWL) for our reasoner. 

use special OWL annotations.

Use outer abstraction and separately define what abstracted meta concepts mean.


We decided to use \verb+rdfs:isDefinedBy+

Let us, once again, consider example~\ref{ex:outer-abstraction}:
\begin{example}\label{ex:outer-abstraction-as-OWL}
  Let
  $\Omc \coloneqq (C\sqsubseteq(\oax{A\sqsubseteq\bot}) \land (C\sqcap\oax{A(a)})(c), \emptyset,
  \emptyset)$ be an \ALCALC ontology. Then \Omc looks in OWL syntax as follows:

\begin{verbatim}
SubclassOf(cls:C cls:A_ASubBot)
ClassAssertion(ObjectIntersectionOf(cls:C cls:A_Aa) ind:c)
SubclassOf(Annotation(rdfs:isDefinedBy cls:A_ASubBot) cls:A owl:Bottom)
ClassAssertion(Annotation(rdfs:isDefinedBy cls:A_Aa) cls:A ind:a)
\end{verbatim}

\vspace{-2.0\baselineskip}  
\end{example}

Furthermore, in practical applications we often encounter object axioms that must hold independently
of any context. These so-called \emph{global object axioms} are of the form
$\top \sqsubseteq \oalpha$. Using the above approach would introduce a new abstracted \todo{is that
  defined somewhere?} meta concept for each such axiom and, thus, unnecessarily bloat the OWL
ontology. Instead we decided to handle another OWL annotation with a special meaning:
\verb+rdfs:label "global"+. Consider a light variation of example~\ref{ex:outer-abstraction-as-OWL}:

\begin{example}\label{ex:outer-abstraction-as-OWL-w-global}
  Let $\Omc \coloneqq (\top\sqsubseteq(\oax{A\sqsubseteq\bot}) \land \oax{A(a)}(c), \emptyset, \emptyset)$ be
  an \ALCALC ontology. Then \Omc looks in OWL syntax as follows:

\begin{verbatim}
ClassAssertion(cls:A_Aa ind:c)
ClassAssertion(Annotation(rdfs:isDefinedBy cls:A_Aa) cls:A ind:a)
SubclassOf(Annotation(rdfs:label "global") cls:A owl:Bottom)
\end{verbatim}

\vspace{-2.0\baselineskip}  
\end{example}

\section{Section 5.2}
\label{sec:section-5.2}






From Lemma \ref{lem:admissible-and-outerConsistent} we know that it is necessary that \Ob is
consistent. Assuming \Ob is consistent, we still have to find a set of types
$\Xmc\subseteq\powerset{\ran(\bsf)}$ such that \Xmc is admissible and \Ob is outer consistent
w.r.t.~\Xmc.

\noindent
\begin{tikzpicture}
  %\grid{(-7,0)}{(7,4)}
  \node[draw] (a) at (0,4) {\Bb consistent?};
  \node[draw,below left = -8mm and -30mm of a] (b) at (-5,2) {construct \Xmc \ldots set of types};
  \draw[->] (a) to[swap] node[inner sep=0]{yes, with $\I\models\Bb$} (b);
  \node[draw,below right = of a] (c) {\textbf{FALSE}};
  \draw[->] (a) to node[inner sep=0]{no} (c);
  \node[below of = b] (d) {Is \Xmc admissible?};
  \draw[->] (b) to (d);
  \node[below left = of d] (e){\textbf{TRUE}};
  \draw[->] (d) to[swap] node[inner sep=0]{yes} (e);
  \node[below right = of d] (f) {backtracking};
  \draw[->] (d) to node[inner sep=0]{no} (f);
  \node[below of = f] (g) {find any admissible \Xmc?};
  \draw[->] (f) to (g);
  \node[below left = of g] (h){\textbf{TRUE}};
  \draw[->] (g) to[swap] node[inner sep=0]{yes} (h);
  \node[below right = of g] (i){\textbf{FALSE}};
  \draw[->] (g) to node[inner sep=0]{no} (i);
\end{tikzpicture}


No rigid names, so we can look into each world separately.





\todo[inline]{quite a bit missing here.}

\begin{lemma}
  Let \Bmf be a consistent BKB over \Nsig, let \I be a model of \Bmf, and let $\alpha$ be an axiom
  over \Nsig. 
\end{lemma}




%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../thesis"
%%% reftex-default-bibliography: ("../references.bib")
%%% End:
